(1..100).each {
    task('sleep' + it.toString().padLeft(3, '0'), type: SleepExec)
}

task sleep {
    dependsOn tasks.withType(SleepExec)
}

@ParallelizableTask
class SleepExec extends Exec {
    SleepExec() {
        commandLine = ['sleep', 1]
    }
}
